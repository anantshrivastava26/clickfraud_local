
# üß† Click Fraud Detection in Online Advertising (Data Orch)

### üöÄ AWS-Based Machine Learning Project

This project focuses on detecting **click fraud** in online advertising campaigns using a **machine learning pipeline** deployed entirely on **AWS**.  
It integrates multiple AWS services to build a **scalable, automated fraud detection system** capable of identifying suspicious click patterns in ad traffic.

---

## üìú Problem Statement

Online advertising platforms lose billions due to **fraudulent clicks** generated by bots or malicious users.  
These fake clicks waste advertising budgets and distort campaign analytics.

The goal is to build a system that:
- Detects **anomalous click patterns** in ad logs.  
- Differentiates **human** vs **bot** behavior.  
- Automates the entire data pipeline on **AWS cloud infrastructure**.

---

## üß© AWS Services Used

| Service | Purpose |
|----------|----------|
| **AWS Glue** | ETL and schema creation for clickstream data. |
| **Amazon Athena** | Query and analyze processed data stored in S3. |
| **AWS Lambda** | Triggered functions for automation (e.g., preprocessing, invoking model endpoint). |
| **Amazon SageMaker** | Training, hosting, and deploying the machine learning model (Isolation Forest). |
| **Amazon CloudWatch** | Logging and monitoring model performance and Lambda triggers. |
| **Amazon API Gateway** *(optional for demo)* | Exposes model endpoint as REST API for front-end or app integration. |

---

## üß† Machine Learning Overview

### Model Used: **Isolation Forest**
- **Type:** Unsupervised anomaly detection  
- **Why:** Works well without labels (ideal for unlabeled ad click data)  
- **Input Features:**
  - Click time intervals
  - Device type
  - Browser & OS fingerprint
  - User agent entropy
  - Ad campaign ID
  - IP frequency per time window  

---

## ‚öôÔ∏è Project Architecture

```plaintext
+-------------+         +-------------+         +-------------------+
|  Raw Click  |  --->   |   AWS Glue  |  --->   |  Processed Dataset |
|   Data (S3) |         |   (ETL Job) |         |     (Athena)       |
+-------------+         +-------------+         +-------------------+
                              |
                              v
                        +-----------+
                        | SageMaker |
                        |  Training |
                        +-----------+
                              |
                              v
                     +------------------+
                     | Deployed Endpoint |
                     +------------------+
                              |
                              v
                   +------------------------+
                   | Lambda + CloudWatch    |
                   | Automated Detection    |
                   +------------------------+
````

---

## üì¶ Project Files

| File                        | Description                                              |
| --------------------------- | -------------------------------------------------------- |
| `data_preprocess_glue.py`   | Script for AWS Glue ETL job.                             |
| `train_model_sagemaker.py`  | Script to train Isolation Forest model on SageMaker.     |
| `lambda_invoke_endpoint.py` | Lambda script to invoke model endpoint on new data.      |
| `clickfraud_aws_check.py`   | Script to verify AWS service connections.                |
| `app_streamlit.py`          | Optional GUI using Streamlit for visualization and demo. |
| `README.md`                 | Project documentation.                                   |

---

## üß™ Steps to Run

### 1Ô∏è‚É£ Upload Data

* Upload your clickstream CSV files to an S3 bucket.
* Example schema: `timestamp, ip, user_agent, ad_id, clicks, impressions`

### 2Ô∏è‚É£ Run AWS Glue Job

```bash
python data_preprocess_glue.py
```

* Cleans and prepares data.
* Outputs curated dataset for Athena queries.

### 3Ô∏è‚É£ Train Model on SageMaker

```bash
python train_model_sagemaker.py
```

* Trains Isolation Forest using unsupervised learning.
* Deploys a SageMaker endpoint.

### 4Ô∏è‚É£ Connect Lambda Function

* Trigger Lambda whenever new click logs are uploaded.
* Lambda calls the SageMaker endpoint and logs results.

### 5Ô∏è‚É£ Monitor with CloudWatch

* Check logs for flagged click anomalies.
* Visualize metrics like fraud ratio, latency, and trigger count.

---

## üé• Demo Workflow (for Presentation)

1. Show dataset upload to S3.
2. Run Glue job and view table in AWS Glue Catalog.
3. Query cleaned data in Athena.
4. Trigger Lambda to run prediction on sample input.
5. View flagged frauds in CloudWatch Logs.
6. (Optional) Display results in Streamlit dashboard.

---

## üìä Results

* Model identifies **fraudulent clicks** with strong anomaly scores.
* Workflow is **fully serverless**, reducing operational costs.
* Real-time inference pipeline detects fraud on new events.

---

## üîí Security and Cost Optimization

* IAM Roles restrict each service‚Äôs access.
* Services paused after demo to avoid credit usage.
* Uses **AWS Free Tier**-eligible services only.

---

## üë®‚Äçüíª Author

**Anant Shrivastava**
B.Tech Student | Cloud & AI Enthusiast
**Project:** Data Orch ‚Äì Click Fraud Detection
**University Demo Project (AWS-based)**

---

## üèÅ Future Improvements

* Integrate **AWS Kinesis** for real-time streaming click data.
* Add **CloudFront + API Gateway** for interactive dashboard.
* Expand dataset and switch to **semi-supervised deep learning model**.

---

## üß© Keywords

`AWS Glue` `Amazon Athena` `SageMaker` `Lambda` `CloudWatch` `Click Fraud Detection` `Anomaly Detection` `Data Pipeline` `Machine Learning` `Online Ads`

```
